"use strict";(self.webpackChunkcommerce_testing=self.webpackChunkcommerce_testing||[]).push([[3659],{78905:function(e,a,n){n.r(a),n.d(a,{_frontmatter:function(){return s},default:function(){return c}});var t,l=n(87462),m=n(63366),o=(n(15007),n(64983)),r=n(91515),d=["components"],s={},p=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)}),i={_frontmatter:s},u=r.Z;function c(e){var a=e.components,n=(0,m.Z)(e,d);return(0,o.mdx)(u,(0,l.Z)({},i,n,{components:a,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"configuration"},"Configuration"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"*.env")," file provides additional configuration for the framework.\nTo run the framework on your Adobe Commerce or Magento Open Source instance, specify the basic configuration values.\nAdvanced users can create custom configurations based on requirements and environment."),(0,o.mdx)("h2",{id:"basic-configuration"},"Basic configuration"),(0,o.mdx)("p",null,"These basic configuration values are ",(0,o.mdx)("strong",{parentName:"p"},"required")," and must be set by the user before the framework can function correctly."),(0,o.mdx)("h3",{id:"magento_base_url"},"MAGENTO_BASE_URL"),(0,o.mdx)("p",null,"The root URL of the application under test."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_BASE_URL=http://magento2.vagrant251\n")),(0,o.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"If the ",(0,o.mdx)("inlineCode",{parentName:"p"},"MAGENTO_BASE_URL")," contains a subdirectory (like ",(0,o.mdx)("inlineCode",{parentName:"p"},"http://magento.test/magento2ce"),"), specify ",(0,o.mdx)("a",{parentName:"p",href:"#magento_cli_command_path"},(0,o.mdx)("inlineCode",{parentName:"a"},"MAGENTO_CLI_COMMAND_PATH")),"."),(0,o.mdx)("h3",{id:"magento_backend_name"},"MAGENTO_BACKEND_NAME"),(0,o.mdx)("p",null,"The path to the Admin page."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_BACKEND_NAME=admin_12346\n")),(0,o.mdx)("h3",{id:"magento_backend_base_url"},"MAGENTO_BACKEND_BASE_URL"),(0,o.mdx)("p",null,"(Optional) If you are running the Admin Panel on a separate domain, specify this value:"),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_BACKEND_BASE_URL=https://admin.magento2.test\n")),(0,o.mdx)("h3",{id:"magento_admin_username"},"MAGENTO_ADMIN_USERNAME"),(0,o.mdx)("p",null,"The username that tests can use to access the Admin page"),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_ADMIN_USERNAME=admin\n")),(0,o.mdx)("h3",{id:"magento_admin_password"},"MAGENTO_ADMIN_PASSWORD"),(0,o.mdx)("p",null,"The password that tests will use to log in to the Admin page."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_ADMIN_PASSWORD=1234reTyt%$7\n")),(0,o.mdx)("h2",{id:"advanced-configuration"},"Advanced configuration"),(0,o.mdx)("p",null,"Depending on the environment you use, you may need to configure the Functional Testing Framework more precisely by setting additional configuration parameters.\nThis section describes available configuration parameters and their default values (where applicable)."),(0,o.mdx)("h3",{id:"default_timezone"},"DEFAULT_TIMEZONE"),(0,o.mdx)("p",null,"Sets a default value for the ",(0,o.mdx)("inlineCode",{parentName:"p"},"timezone")," attribute of a ",(0,o.mdx)("a",{parentName:"p",href:"test/actions.md#generatedate"},(0,o.mdx)("inlineCode",{parentName:"a"},"generateDate")," action"),".\nThis value is applied when a test step does not specify a time zone.\nFor the complete list of available time zones, refer to ",(0,o.mdx)("a",{parentName:"p",href:"https://php.net/manual/en/timezones.php"},"List of Supported Timezones"),"."),(0,o.mdx)("p",null,"Default: ",(0,o.mdx)("inlineCode",{parentName:"p"},"America/Los_Angeles"),"."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"DEFAULT_TIMEZONE=UTC\n")),(0,o.mdx)("h3",{id:"selenium"},"SELENIUM"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"SELENIUM_*")," values form the URL of a custom Selenium server for running testing."),(0,o.mdx)("p",null,"Default Selenium URL: ",(0,o.mdx)("inlineCode",{parentName:"p"},"http://127.0.0.1:4444/wd/hub")),(0,o.mdx)("p",null,"And the default configuration:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_HOST=127.0.0.1\nSELENIUM_PORT=4444\nSELENIUM_PROTOCOL=http\nSELENIUM_PATH=/wd/hub\n")),(0,o.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,(0,o.mdx)("inlineCode",{parentName:"p"},"SELENIUM_*")," values are required if you are running Selenium on an external system.\nIf you change the configuration of the external Selenium server, you must update these values."),(0,o.mdx)("h4",{id:"selenium_host"},"SELENIUM_HOST"),(0,o.mdx)("p",null,"Override the default Selenium server host."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_HOST=user:pass@ondemand.saucelabs.com\n")),(0,o.mdx)("h4",{id:"selenium_port"},"SELENIUM_PORT"),(0,o.mdx)("p",null,"Override the default Selenium server port."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_PORT=443\n")),(0,o.mdx)("h4",{id:"selenium_protocol"},"SELENIUM_PROTOCOL"),(0,o.mdx)("p",null,"Override the default Selenium server protocol."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_PROTOCOL=https\n")),(0,o.mdx)("h4",{id:"selenium_path"},"SELENIUM_PATH"),(0,o.mdx)("p",null,"Override the default Selenium server path."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_PATH=/wd/hub\n")),(0,o.mdx)("h3",{id:"magento_restapi"},"MAGENTO_RESTAPI"),(0,o.mdx)("p",null,"These ",(0,o.mdx)("inlineCode",{parentName:"p"},"MAGENTO_RESTAPI_*")," values are optional and can be used in cases when your Adobe Commerce or Magento Open Source instance has a different API path than the one in ",(0,o.mdx)("inlineCode",{parentName:"p"},"MAGENTO_BASE_URL"),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_RESTAPI_SERVER_HOST\nMAGENTO_RESTAPI_SERVER_PORT\n")),(0,o.mdx)("h4",{id:"magento_restapi_server_host"},"MAGENTO_RESTAPI_SERVER_HOST"),(0,o.mdx)("p",null,"The protocol and the host of the REST API server path."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_RESTAPI_SERVER_HOST=http://localhost\n")),(0,o.mdx)("h4",{id:"magento_restapi_server_port"},"MAGENTO_RESTAPI_SERVER_PORT"),(0,o.mdx)("p",null,"The port part of the API path."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_RESTAPI_SERVER_PORT=5000\n")),(0,o.mdx)("h3",{id:"_bp"},"*","_BP"),(0,o.mdx)("p",null,"Settings to override base paths for the framework.\nYou can use it when the Functional Testing Framework is applied as a separate tool.\nFor example, when you need to place the Functional Testing Framework and the Adobe Commerce or Magento Open Source codebase in separate projects."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_BP\nTESTS_BP\nFW_BP\nTESTS_MODULES_PATH\n")),(0,o.mdx)("h4",{id:"magento_bp"},"MAGENTO_BP"),(0,o.mdx)("p",null,"The path to a local Adobe Commerce or Magento Open Source codebase.\nIt enables the ",(0,o.mdx)("a",{parentName:"p",href:"commands/mftf.md"},(0,o.mdx)("inlineCode",{parentName:"a"},"bin/mftf"))," commands such as ",(0,o.mdx)("inlineCode",{parentName:"p"},"run")," and ",(0,o.mdx)("inlineCode",{parentName:"p"},"generate")," to parse all modules of the Adobe Commerce or Magento Open Source codebase for tests."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_BP=~/magento2/\n")),(0,o.mdx)("h4",{id:"tests_bp"},"TESTS_BP"),(0,o.mdx)("p",null,"BP is an acronym for ",(0,o.mdx)("em",{parentName:"p"},"Base Path"),".\nThe path to where the Functional Testing Framework supplementary files are located in the Adobe Commerce or Magento Open Source codebase."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"TESTS_BP=~/magento2ce/dev/tests/acceptance\n")),(0,o.mdx)("h4",{id:"fw_bp"},"FW_BP"),(0,o.mdx)("p",null,"The path to the Functional Testing Framework.\nFW",(0,o.mdx)("em",{parentName:"p"},"BP is an acronym for _FrameWork Base Path"),"."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"FW_BP=~/magento/magento2-functional-testing-framework\n")),(0,o.mdx)("h3",{id:"tests_module_path"},"TESTS_MODULE_PATH"),(0,o.mdx)("p",null,"The path to where the Functional Testing Framework modules mirror Adobe Commerce or Magento Open Source modules."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"TESTS_MODULE_PATH=~/magento2/dev/tests/acceptance/tests/functional/Magento\n")),(0,o.mdx)("h3",{id:"module_allowlist"},"MODULE_ALLOWLIST"),(0,o.mdx)("p",null,"Use for a new module.\nWhen adding a new directory at ",(0,o.mdx)("inlineCode",{parentName:"p"},"tests/functional/Magento"),", add the directory name to ",(0,o.mdx)("inlineCode",{parentName:"p"},"MODULE_ALLOWLIST")," to enable the Functional Testing Framework to process it."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MODULE_ALLOWLIST=Magento_Framework,Magento_ConfigurableProductWishlist,Magento_ConfigurableProductCatalogSearch\n")),(0,o.mdx)("h3",{id:"magento_cli_command_path"},"MAGENTO_CLI_COMMAND_PATH"),(0,o.mdx)("p",null,"Path to the CLI command entry point."),(0,o.mdx)("p",null,"Default: ",(0,o.mdx)("inlineCode",{parentName:"p"},"dev/tests/acceptance/utils/command.php"),".\nIt points to ",(0,o.mdx)("inlineCode",{parentName:"p"},"MAGENTO_BASE_URL")," + ",(0,o.mdx)("inlineCode",{parentName:"p"},"dev/tests/acceptance/utils/command.php")),(0,o.mdx)("p",null,"Modify the default value:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"for non-default Adobe Commerce or Magento Open Source installation"),(0,o.mdx)("li",{parentName:"ul"},"when using a subdirectory in the ",(0,o.mdx)("inlineCode",{parentName:"li"},"MAGENTO_BASE_URL"))),(0,o.mdx)("p",null,"Example: ",(0,o.mdx)("inlineCode",{parentName:"p"},"dev/tests/acceptance/utils/command.php")),(0,o.mdx)("h3",{id:"browser"},"BROWSER"),(0,o.mdx)("p",null,"Override the default browser performing the tests."),(0,o.mdx)("p",null,"Default: Chrome"),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"BROWSER=firefox\n")),(0,o.mdx)("h3",{id:"credential_vault_address"},"CREDENTIAL_VAULT_ADDRESS"),(0,o.mdx)("p",null,"The Api address for a vault server."),(0,o.mdx)("p",null,"Default: ",(0,o.mdx)("a",{parentName:"p",href:"http://127.0.0.1:8200"},"http://127.0.0.1:8200")),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"# Default api address for local vault dev server\nCREDENTIAL_VAULT_ADDRESS=http://127.0.0.1:8200\n")),(0,o.mdx)("h3",{id:"credential_vault_secret_base_path"},"CREDENTIAL_VAULT_SECRET_BASE_PATH"),(0,o.mdx)("p",null,"Vault secret engine base path."),(0,o.mdx)("p",null,"Default: secret"),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"# Default base path for kv secret engine in local vault dev server\nCREDENTIAL_VAULT_SECRET_BASE_PATH=secret\n")),(0,o.mdx)("h3",{id:"credential_aws_secrets_manager_region"},"CREDENTIAL_AWS_SECRETS_MANAGER_REGION"),(0,o.mdx)("p",null,"The region that AWS Secrets Manager is located."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"# Region of AWS Secrets Manager\nCREDENTIAL_AWS_SECRETS_MANAGER_REGION=us-east-1\n")),(0,o.mdx)("h3",{id:"credential_aws_secrets_manager_profile"},"CREDENTIAL_AWS_SECRETS_MANAGER_PROFILE"),(0,o.mdx)("p",null,"The profile used to connect to AWS Secrets Manager."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"# Profile used to connect to AWS Secrets Manager.\nCREDENTIAL_AWS_SECRETS_MANAGER_PROFILE=default\n")),(0,o.mdx)("h3",{id:"verbose_artifacts"},"VERBOSE_ARTIFACTS"),(0,o.mdx)("p",null,"Determines if passed tests should still have all their Allure artifacts. These artifacts include ",(0,o.mdx)("inlineCode",{parentName:"p"},".txt")," attachments for ",(0,o.mdx)("inlineCode",{parentName:"p"},"dontSee")," actions and ",(0,o.mdx)("inlineCode",{parentName:"p"},"createData")," actions."),(0,o.mdx)("p",null,"If enabled, all tests will have all of their normal Allure artifacts."),(0,o.mdx)("p",null,"If disabled, passed tests will have their Allure artifacts trimmed. Failed tests will still contain all their artifacts."),(0,o.mdx)("p",null,"This is set ",(0,o.mdx)("inlineCode",{parentName:"p"},"false")," by default."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"VERBOSE_ARTIFACTS=true\n")),(0,o.mdx)("h3",{id:"enable_browser_log"},"ENABLE_BROWSER_LOG"),(0,o.mdx)("p",null,"Enables addition of browser logs to Allure steps"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"ENABLE_BROWSER_LOG=true\n")),(0,o.mdx)("h3",{id:"selenium_close_all_sessions"},"SELENIUM_CLOSE_ALL_SESSIONS"),(0,o.mdx)("p",null,"Forces the Functional Testing Framework to close all Selenium sessions after running a suite."),(0,o.mdx)("p",null,"Use this if you're having issues with sessions hanging in a Functional Testing Framework suite."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"SELENIUM_CLOSE_ALL_SESSIONS=true\n")),(0,o.mdx)("h3",{id:"browser_log_blocklist"},"BROWSER_LOG_BLOCKLIST"),(0,o.mdx)("p",null,"Blocklists types of browser log entries from appearing in Allure steps."),(0,o.mdx)("p",null,"Denoted in browser log entry as ",(0,o.mdx)("inlineCode",{parentName:"p"},'"SOURCE": "type"'),"."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"BROWSER_LOG_BLOCKLIST=other,console-api\n")),(0,o.mdx)("h3",{id:"wait_timeout"},"WAIT_TIMEOUT"),(0,o.mdx)("p",null,"Global Functional Testing Framework configuration for the default amount of time (in seconds) that a test will wait while loading a page."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"WAIT_TIMEOUT=30\n")),(0,o.mdx)("h3",{id:"enable_pause"},"ENABLE_PAUSE"),(0,o.mdx)("p",null,"Enables the ability to pause test execution at any point, and enter an interactive shell where you can try commands in action.\nWhen pause is enabled, the Functional Testing Framework will generate pause() command in _failed() hook so that test will pause execution when failed."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"ENABLE_PAUSE=true\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_driver"},"REMOTE_STORAGE_AWSS3_DRIVER"),(0,o.mdx)("p",null,"The remote storage driver. To enable AWS S3, use ",(0,o.mdx)("inlineCode",{parentName:"p"},"aws-s3"),"."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_DRIVER=aws-s3\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_region"},"REMOTE_STORAGE_AWSS3_REGION"),(0,o.mdx)("p",null,"The region of S3 bucket."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_REGION=us-west-2\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_bucket"},"REMOTE_STORAGE_AWSS3_BUCKET"),(0,o.mdx)("p",null,"The name of S3 bucket."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_BUCKET=my-test-bucket\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_prefix"},"REMOTE_STORAGE_AWSS3_PREFIX"),(0,o.mdx)("p",null,"The optional prefix inside S3 bucket."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_PREFIX=local\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_access_key"},"REMOTE_STORAGE_AWSS3_ACCESS_KEY"),(0,o.mdx)("p",null,"The optional access key for the S3 bucket."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_ACCESS_KEY=access-key\n")),(0,o.mdx)("h3",{id:"remote_storage_awss3_secret_key"},"REMOTE_STORAGE_AWSS3_SECRET_KEY"),(0,o.mdx)("p",null,"The optional secret key for the S3 bucket."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"REMOTE_STORAGE_AWSS3_SECRET_KEY=secret-key\n")),(0,o.mdx)("h3",{id:"magento_admin_webapi_token_lifetime"},"MAGENTO_ADMIN_WEBAPI_TOKEN_LIFETIME"),(0,o.mdx)("p",null,"The lifetime (in seconds) of the Admin WebAPI token; if token is older than this value a refresh attempt will be made just before the next WebAPI call."),(0,o.mdx)("p",null,"Example:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-conf"},"MAGENTO_ADMIN_WEBAPI_TOKEN_LIFETIME=10800\n")))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-functional-testing-framework-configuration-md-3a5d4630ab62aa5b1312.js.map