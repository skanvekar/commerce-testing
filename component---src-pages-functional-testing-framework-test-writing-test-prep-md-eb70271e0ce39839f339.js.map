{"version":3,"file":"component---src-pages-functional-testing-framework-test-writing-test-prep-md-eb70271e0ce39839f339.js","mappings":"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","sources":["webpack://commerce-testing/./src/pages/functional-testing-framework/test-writing/test-prep.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-testing/commerce-testing/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"preparing-a-test\"\n    }}>{`Preparing a test`}</h1>\n    <p>{`This tutorial demonstrates the process of converting a raw functional test into a properly abstracted test file ready for publishing.`}</p>\n    <h2 {...{\n      \"id\": \"the-abstraction-process\"\n    }}>{`The abstraction process`}</h2>\n    <p>{`When first writing a test for a new piece of code such as a custom extension, it is likely that values are hardcoded for the specific testing environment while in development. To make the test more generic and easier for others to update and use, we need to abstract the test.\nThe general process:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Convert the manual test to a working, hard-coded test.`}</li>\n      <li parentName=\"ol\">{`Replace hardcoded selectors to a more flexible format such as `}<a parentName=\"li\" {...{\n          \"href\": \"https://devdocs.magento.com/mftf/docs/section/parameterized-selectors.html\"\n        }}>{`parameterized selectors`}</a>{`.`}</li>\n      <li parentName=\"ol\">{`Convert hardcoded form values and other data to data entities.`}</li>\n      <li parentName=\"ol\">{`Convert `}<a parentName=\"li\" {...{\n          \"href\": \"https://devdocs.magento.com/mftf/docs/test/actions.html\"\n        }}>{`actions`}</a>{` into `}<a parentName=\"li\" {...{\n          \"href\": \"https://devdocs.magento.com/mftf/docs/test/action-groups.html\"\n        }}>{`action groups`}</a>{`.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"the-manual-test\"\n    }}>{`The manual test`}</h2>\n    <p>{`Manual tests are just that: A series of manual steps to be run.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<!-- Navigate to Catalog -> Products page (or just open by link) -->\n<!-- Fill field \"Name\" with \"Simple Product %unique_value%\" -->\n<!-- Fill field \"SKU\" with \"simple_product_%unique_value%\" -->\n<!-- Fill field \"Price\" with \"500.00\" -->\n<!-- Fill field \"Quantity\" with \"100\" -->\n<!-- Fill field \"Weight\" with \"100\" -->\n<!-- Click \"Save\" button -->\n<!-- See success save message \"You saved the product.\" -->\n<!-- Navigate to Catalog -> Products page (or just open by link) -->\n<!-- See created product is in grid -->\n<!-- See \"Name\" in grid is valid -->\n<!-- See \"SKU\" in grid is valid -->\n<!-- See \"Price\" in grid is valid -->\n<!-- See \"Quantity\" in grid is valid -->\n<!-- Open Storefront Product Page and verify \"Name\", \"SKU\", \"Price\" -->\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"the-raw-test\"\n    }}>{`The raw test`}</h2>\n    <p>{`This test works just fine. But it will only work if everything referenced in the test stays exactly the same. This neither reusable nor extensible.\nHardcoded selectors make it impossible to reuse sections in other action groups and tasks. They can also be brittle. If Adobe Commerce or Magento Open Source happens to change a `}<inlineCode parentName=\"p\">{`class`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` on an element, the test will fail.`}</p>\n    <p>{`Some data, like the SKU in this example, must be unique for every test run. Hardcoded values will fail here. `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/mftf/docs/data.html\"\n      }}>{`Data entities`}</a>{` allow for `}<inlineCode parentName=\"p\">{`suffix`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`prefix`}</inlineCode>{` for ensuring unique data values.`}</p>\n    <p>{`For our example, we have a test that creates a simple product. Note the hardcoded selectors, data values and lack of action groups. We will focus on the \"product name\".`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n\n<tests xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Test/etc/testSchema.xsd\">\n    <test name=\"CreateSimpleProductTest\">\n        <annotations>\n            <features value=\"Catalog\"/>\n            <stories value=\"Create Product\"/>\n            <title value=\"Admin should be able to create simple product.\"/>\n            <description value=\"Admin should be able to create simple product.\"/>\n            <severity value=\"MAJOR\"/>\n            <group value=\"Catalog\"/>\n            <group value=\"alex\" />\n        </annotations>\n        <before>\n            <!-- Login to Admin panel -->\n            <amOnPage url=\"admin\" stepKey=\"openAdminPanelPage\" />\n            <fillField selector=\"#username\" userInput=\"admin\" stepKey=\"fillLoginField\" />\n            <fillField selector=\"#login\" userInput=\"123123q\" stepKey=\"fillPasswordField\" />\n            <click selector=\"#login-form .action-login\" stepKey=\"clickLoginButton\" />\n        </before>\n        <after>\n            <!-- Logout from Admin panel -->\n        </after>\n\n        <!-- Navigate to Catalog -> Products page (or just open by link) -->\n        <amOnPage url=\"admin/catalog/product/index\" stepKey=\"openProductGridPage\" />\n\n        <!-- Click \"Add Product\" button -->\n        <click selector=\"#add_new_product-button\" stepKey=\"clickAddProductButton\" />\n        <waitForPageLoad stepKey=\"waitForNewProductPageOpened\" />\n\n        <!-- Fill field \"Name\" with \"Simple Product %unique_value%\" -->\n  -----><fillField selector=\"input[name='product[name]']\" userInput=\"Simple Product 12412431\" stepKey=\"fillNameField\" />\n\n        <!-- Fill field \"SKU\" with \"simple_product_%unique_value%\" -->\n        <fillField selector=\"input[name='product[sku]']\" userInput=\"simple-product-12412431\" stepKey=\"fillSKUField\" />\n\n        <!-- Fill field \"Price\" with \"500.00\" -->\n        <fillField selector=\"input[name='product[price]']\" userInput=\"500.00\" stepKey=\"fillPriceField\" />\n\n        <!-- Fill field \"Quantity\" with \"100\" -->\n        <fillField selector=\"input[name='product[quantity_and_stock_status][qty]']\" userInput=\"100\" stepKey=\"fillQtyField\" />\n\n        <!-- Fill field \"Weight\" with \"100\" -->\n        <fillField selector=\"input[name='product[weight]']\" userInput=\"100\" stepKey=\"fillWeightField\" />\n\n        ...\n    </test>\n</tests>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"extract-the-css-selectors\"\n    }}>{`Extract the CSS selectors`}</h2>\n    <p>{`First we will extract the hardcoded CSS selector values into variables.\nFor instance: `}<inlineCode parentName=\"p\">{`input[name='product[name]']`}</inlineCode>{` becomes `}<inlineCode parentName=\"p\">{`{{AdminProductFormSection.productName}}`}</inlineCode>{`.\nIn this example `}<inlineCode parentName=\"p\">{`AdminProductFormSection`}</inlineCode>{` refers to the `}<inlineCode parentName=\"p\">{`<section>`}</inlineCode>{` in the XML file which contains an `}<inlineCode parentName=\"p\">{`<element>`}</inlineCode>{` node named `}<inlineCode parentName=\"p\">{`productName`}</inlineCode>{`. This element contains the value of the selector that was previously hardcoded: `}<inlineCode parentName=\"p\">{`input[name='product[name]']`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n\n<tests xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Test/etc/testSchema.xsd\">\n    <test name=\"CreateSimpleProductTest\">\n        <annotations>\n            <features value=\"Catalog\"/>\n            <stories value=\"Create Product\"/>\n            <title value=\"Admin should be able to create simple product.\"/>\n            <description value=\"Admin should be able to create simple product.\"/>\n            <severity value=\"MAJOR\"/>\n            <group value=\"Catalog\"/>\n            <group value=\"alex\" />\n        </annotations>\n        <before>\n        <before>\n            <!-- Login to Admin panel -->\n            <amOnPage url=\"admin\" stepKey=\"openAdminPanelPage\" />\n            <fillField selector=\"#username\" userInput=\"admin\" stepKey=\"fillLoginField\" />\n            <fillField selector=\"#login\" userInput=\"123123q\" stepKey=\"fillPasswordField\" />\n            <click selector=\"#login-form .action-login\" stepKey=\"clickLoginButton\" />\n        </before>\n        <after>\n            <!-- Logout from Admin panel -->\n        </after>\n\n        <!-- Navigate to Catalog -> Products page (or just open by link) -->\n        <amOnPage url=\"{{AdminProductIndexPage.url}}\" stepKey=\"openProductGridPage\" />\n\n        <!-- Click \"Add Product\" button -->\n        <click selector=\"{{AdminProductGridActionSection.addProductBtn}}\" stepKey=\"clickAddProductButton\" />\n        <waitForPageLoad stepKey=\"waitForNewProductPageOpened\" />\n\n        <!-- Fill field \"Name\" with \"Simple Product %unique_value%\" -->\n  -----><fillField selector=\"{{AdminProductFormSection.productName}}\" userInput=\"Simple Product 12412431\" stepKey=\"fillNameField\" />\n        <!-- Fill field \"SKU\" with \"simple_product_%unique_value%\" -->\n        <fillField selector=\"{{AdminProductFormSection.productSku}}\" userInput=\"simple-product-12412431\" stepKey=\"fillSKUField\" />\n\n        <!-- Fill field \"Price\" with \"500.00\" -->\n        <fillField selector=\"{{AdminProductFormSection.productPrice}}\" userInput=\"500.00\" stepKey=\"fillPriceField\" />\n\n        <!-- Fill field \"Quantity\" with \"100\" -->\n        <fillField selector=\"{{AdminProductFormSection.productQuantity}}\" userInput=\"100\" stepKey=\"fillQtyField\" />\n\n        <!-- Fill field \"Weight\" with \"100\" -->\n        <fillField selector=\"{{AdminProductFormSection.productWeight}}\" userInput=\"100\" stepKey=\"fillWeightField\" />\n        ...\n    </test>\n</tests>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"the-section-file\"\n    }}>{`The section file`}</h2>\n    <p>{`We abstract these selector values to a file named `}<inlineCode parentName=\"p\">{`AdminProductFormSection.xml`}</inlineCode>{` which is kept in the `}<inlineCode parentName=\"p\">{`Section`}</inlineCode>{` folder.\nWithin this file, there can be multiple `}<inlineCode parentName=\"p\">{`<section>`}</inlineCode>{` nodes which contains data for different parts of the test.\nHere we are interested in `}<inlineCode parentName=\"p\">{`<section name=\"AdminProductFormSection\">`}</inlineCode>{`, where we are keeping our extracted values from above.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n<sections xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Page/etc/SectionObject.xsd\">\n--> <section name=\"AdminProductFormSection\">\n        <element name=\"attributeSet\" type=\"select\" selector=\"div[data-index='attribute_set_id'] .admin__field-control\"/>\n        <element name=\"attributeSetFilter\" type=\"input\" selector=\"div[data-index='attribute_set_id'] .admin__field-control input\" timeout=\"30\"/>\n        <element name=\"attributeSetFilterResult\" type=\"input\" selector=\"div[data-index='attribute_set_id'] .action-menu-item._last\" timeout=\"30\"/>\n        <element name=\"attributeSetFilterResultByName\" type=\"text\" selector=\"//label/span[text() = '{{var}}']\" timeout=\"30\" parameterized=\"true\"/>\n  -----><element name=\"productName\" type=\"input\" selector=\"input[name='product[name]']\"/>\n        <element name=\"RequiredNameIndicator\" type=\"text\" selector=\" return window.getComputedStyle(document.querySelector('._required[data-index=name]&gt;.admin__field-label span'), ':after').getPropertyValue('content');\"/>\n        <element name=\"RequiredSkuIndicator\" type=\"text\" selector=\" return window.getComputedStyle(document.querySelector('._required[data-index=sku]&gt;.admin__field-label span'), ':after').getPropertyValue('content');\"/>\n        <element name=\"productSku\" type=\"input\" selector=\"input[name='product[sku]']\"/>\n        <element name=\"enableProductAttributeLabel\" type=\"text\" selector=\"//span[text()='Enable Product']/parent::label\"/>\n        <element name=\"enableProductAttributeLabelWrapper\" type=\"text\" selector=\"//span[text()='Enable Product']/parent::label/parent::div\"/>\n        <element name=\"productStatus\" type=\"checkbox\" selector=\"input[name='product[status]']\"/>\n       ...\n    </section>\n    <section name=\"ProductInWebsitesSection\">\n        <element name=\"sectionHeader\" type=\"button\" selector=\"div[data-index='websites']\" timeout=\"30\"/>\n        <element name=\"website\" type=\"checkbox\" selector=\"//label[contains(text(), '{{var1}}')]/parent::div//input[@type='checkbox']\" parameterized=\"true\"/>\n    </section>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"data-entities\"\n    }}>{`Data entities`}</h2>\n    <p>{`The hardcoded values of these form elements are abstracted to a \"data entity\" XML file. We replace the hardcoded values with variables and the framework does the variable substitution.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n\n<tests xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Test/etc/testSchema.xsd\">\n    <test name=\"CreateSimpleProductTest\">\n        <annotations>\n            <features value=\"Catalog\"/>\n            <stories value=\"Create Product\"/>\n            <title value=\"Admin should be able to create simple product.\"/>\n            <description value=\"Admin should be able to create simple product.\"/>\n            <severity value=\"MAJOR\"/>\n            <group value=\"Catalog\"/>\n            <group value=\"alex\" />\n        </annotations>\n        <before>\n            <!-- Login to Admin panel -->\n            <amOnPage url=\"admin\" stepKey=\"openAdminPanelPage\" />\n            <fillField selector=\"#username\" userInput=\"admin\" stepKey=\"fillLoginField\" />\n            <fillField selector=\"#login\" userInput=\"123123q\" stepKey=\"fillPasswordField\" />\n            <click selector=\"#login-form .action-login\" stepKey=\"clickLoginButton\" />\n        </before>\n        <after>\n            <!-- Logout from Admin panel -->\n        </after>\n\n        <!-- Navigate to Catalog -> Products page (or just open by link) -->\n        <amOnPage url=\"{{AdminProductIndexPage.url}}\" stepKey=\"openProductGridPage\" />\n\n        <!-- Click \"Add Product\" button -->\n        <click selector=\"{{AdminProductGridActionSection.addProductBtn}}\" stepKey=\"clickAddProductButton\" />\n        <waitForPageLoad stepKey=\"waitForNewProductPageOpened\" />\n\n        <!-- Fill field \"Name\" with \"Simple Product %unique_value%\" -->\n  ----><fillField selector=\"{{AdminProductFormSection.productName}}\" userInput=\"{{_defaultProduct.name}}\" stepKey=\"fillNameField\" />\n\n        <!-- Fill field \"SKU\" with \"simple_product_%unique_value%\" -->\n        <fillField selector=\"{{AdminProductFormSection.productSku}}\" userInput=\"{{_defaultProduct.sku}}\" stepKey=\"fillSKUField\" />\n\n        <!-- Fill field \"Price\" with \"500.00\" -->\n        <fillField selector=\"{{AdminProductFormSection.productPrice}}\" userInput=\"{{_defaultProduct.price}}\" stepKey=\"fillPriceField\" />\n\n        <!-- Fill field \"Quantity\" with \"100\" -->\n        <fillField selector=\"{{AdminProductFormSection.productQuantity}}\" userInput=\"{{_defaultProduct.quantity}}\" stepKey=\"fillQtyField\" />\n\n        <!-- Fill field \"Weight\" with \"100\" -->\n        <fillField selector=\"{{AdminProductFormSection.productWeight}}\" userInput=\"{{_defaultProduct.weight}}\" stepKey=\"fillWeightField\" />\n\n       ...\n    </test>\n</tests>\n`}</code></pre>\n    <p>{`One of the reasons that we abstract things is so that they are more flexible and reusable. In this case, we can leverage this flexibility and use an existing data file. For this scenario, we are using `}<a parentName=\"p\" {...{\n        \"href\": \"https://raw.githubusercontent.com/magento-pangolin/magento2/MageTestFest/app/code/Magento/Catalog/Test/Mftf/Data/ProductData.xml\"\n      }}>{`this file`}</a>{`.`}</p>\n    <p>{`Data entities are important because this is where a `}<inlineCode parentName=\"p\">{`suffix`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`prefix`}</inlineCode>{` can be defined. This ensures that data values can be unique for every test run.`}</p>\n    <p>{`Notice that the `}<inlineCode parentName=\"p\">{`<entity>`}</inlineCode>{` name is `}<inlineCode parentName=\"p\">{`_defaultProduct`}</inlineCode>{` as referenced above. Within this entity is the `}<inlineCode parentName=\"p\">{`name`}</inlineCode>{` value.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<entities xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:DataGenerator/etc/dataProfileSchema.xsd\">\n    <entity name=\"_defaultProduct\" type=\"product\">\n        <data key=\"sku\" unique=\"suffix\">testSku</data>\n        <data key=\"type_id\">simple</data>\n        <data key=\"attribute_set_id\">4</data>\n        <data key=\"visibility\">4</data>\n   ---> <data key=\"name\" unique=\"suffix\">testProductName</data>\n        <data key=\"price\">123.00</data>\n        <data key=\"urlKey\" unique=\"suffix\">testurlkey</data>\n        <data key=\"status\">1</data>\n        <data key=\"quantity\">100</data>\n        <data key=\"weight\">1</data>\n        <requiredEntity type=\"product_extension_attribute\">EavStockItem</requiredEntity>\n        <requiredEntity type=\"custom_attribute_array\">CustomAttributeCategoryIds</requiredEntity>\n    </entity>\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`unique=\"suffix\"`}</inlineCode>{` attribute appends a random numeric string to the end of the actual data string. This ensures that unique values are used for each test run.\nSee  `}<a parentName=\"p\" {...{\n        \"href\": \"https://devdocs.magento.com/mftf/docs/data.html\"\n      }}>{`Input testing data`}</a>{` for more information.`}</p>\n    <h2 {...{\n      \"id\": \"convert-actions-to-action-groups\"\n    }}>{`Convert actions to action groups`}</h2>\n    <p>{`Action groups are sets of steps that are run together. Action groups are designed to break up multiple individual steps into logical groups. For example: logging into the admin panel requires ensuring the login form exists, filling in two form fields and clicking the `}<strong parentName=\"p\">{`Submit`}</strong>{` button. These can be bundled into a single, reusable \"LoginAsAdmin\" action group that can be applied to any other test. This leverages existing code and prevents duplication of effort. We recommend that all steps in a test be within an action group.`}</p>\n    <p>{`Using action groups can be very useful when testing extensions.\nExtending the example above, assume the first extension adds a new field to the admin log in, a Captcha for example.\nThe second extension we are testing needs to log in AND get past the Captcha.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`The admin login is encapsulated in an action group.`}</li>\n      <li parentName=\"ol\">{`The Captcha extension properly extends the `}<inlineCode parentName=\"li\">{`LoginAsAdmin`}</inlineCode>{` capture group using the `}<inlineCode parentName=\"li\">{`merge`}</inlineCode>{` functionality.`}</li>\n      <li parentName=\"ol\">{`Now the second extension can call the `}<inlineCode parentName=\"li\">{`LoginAsAdmin`}</inlineCode>{` action group and because of the `}<inlineCode parentName=\"li\">{`merge`}</inlineCode>{`, it will automatically include the Captcha field.`}</li>\n    </ol>\n    <p>{`In this case, the action group is both reusable and extensible!`}</p>\n    <p>{`We further abstract the test by putting these action groups in their own file: `}<a parentName=\"p\" {...{\n        \"href\": \"https://raw.githubusercontent.com/magento-pangolin/magento2/e5671d84aa63cad772fbba757005b3d89ddb79d9/app/code/Magento/Catalog/Test/Mftf/ActionGroup/AdminProductActionGroup.xml\"\n      }}>{`'app/code/Magento/Catalog/Test/Mftf/ActionGroup/AdminProductActionGroup.xml'`}</a></p>\n    <p>{`To create an action group, take the steps and put them within an `}<inlineCode parentName=\"p\">{`<actionGroup>`}</inlineCode>{` element. Note that the `}<inlineCode parentName=\"p\">{`<argument>`}</inlineCode>{` node defines the `}<inlineCode parentName=\"p\">{`_defaultProduct`}</inlineCode>{` data entity that is required for the action group.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n<actionGroups xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n              xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Test/etc/actionGroupSchema.xsd\">\n<!--Fill main fields in create product form-->\n    <actionGroup name=\"fillMainProductForm\">\n        <arguments>\n            <argument name=\"product\" defaultValue=\"_defaultProduct\"/>\n        </arguments>\n  -----><fillField selector=\"{{AdminProductFormSection.productName}}\" userInput=\"{{product.name}}\" stepKey=\"fillProductName\"/>\n        <fillField selector=\"{{AdminProductFormSection.productSku}}\" userInput=\"{{product.sku}}\" stepKey=\"fillProductSku\"/>\n        <fillField selector=\"{{AdminProductFormSection.productPrice}}\" userInput=\"{{product.price}}\" stepKey=\"fillProductPrice\"/>\n        <fillField selector=\"{{AdminProductFormSection.productQuantity}}\" userInput=\"{{product.quantity}}\" stepKey=\"fillProductQty\"/>\n        <selectOption selector=\"{{AdminProductFormSection.productStockStatus}}\" userInput=\"{{product.status}}\" stepKey=\"selectStockStatus\"/>\n        <selectOption selector=\"{{AdminProductFormSection.productWeightSelect}}\" userInput=\"This item has weight\" stepKey=\"selectWeight\"/>\n        <fillField selector=\"{{AdminProductFormSection.productWeight}}\" userInput=\"{{product.weight}}\" stepKey=\"fillProductWeight\"/>\n        <click selector=\"{{AdminProductSEOSection.sectionHeader}}\" stepKey=\"openSeoSection\"/>\n        <fillField userInput=\"{{product.urlKey}}\" selector=\"{{AdminProductSEOSection.urlKeyInput}}\" stepKey=\"fillUrlKey\"/>\n    </actionGroup>\n`}</code></pre>\n    <p>{`Note how the `}<inlineCode parentName=\"p\">{`<argument>`}</inlineCode>{` node takes in the `}<inlineCode parentName=\"p\">{`_defaultProduct`}</inlineCode>{` data entity and renames it to `}<inlineCode parentName=\"p\">{`product`}</inlineCode>{`, which is then used for the `}<inlineCode parentName=\"p\">{`userInput`}</inlineCode>{` values.`}</p>\n    <p>{`Now we can reference this action group within our test (and any other test).`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!--\n/**\n  * Copyright &copy; Magento, Inc. All rights reserved.\n  * See COPYING.txt for license details.\n  */\n-->\n\n<tests xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:noNamespaceSchemaLocation=\"urn:magento:mftf:Test/etc/testSchema.xsd\">\n    <test name=\"CreateSimpleProductTest\">\n        <annotations>\n            <features value=\"Catalog\"/>\n            <stories value=\"Create Product\"/>\n            <title value=\"Admin should be able to create simple product.\"/>\n            <description value=\"Admin should be able to create simple product.\"/>\n            <severity value=\"MAJOR\"/>\n            <group value=\"Catalog\"/>\n            <group value=\"alex\" />\n        </annotations>\n        <before>\n            <!-- Login to Admin panel -->\n            <actionGroup ref=\"LoginAsAdmin\" stepKey=\"loginToAdminPanel\" />\n        </before>\n        <after>\n            <!-- Logout from Admin panel -->\n        </after>\n\n        <!-- Navigate to Catalog -> Products page (or just open by link) -->\n        <amOnPage url=\"{{AdminProductIndexPage.url}}\" stepKey=\"openProductGridPage\" />\n        <waitForPageLoad stepKey=\"waitForProductGridPageLoaded\" />\n\n        <!-- Click \"Add Product\" button -->\n        <actionGroup ref=\"goToCreateProductPage\" stepKey=\"goToCreateProductPage\" />\n  -----><fillField selector=\"{{AdminProductFormSection.productName}}\" userInput=\"{{product.name}}\" stepKey=\"fillProductName\"/>\n        <actionGroup ref=\"fillMainProductForm\" stepKey=\"fillProductForm\">\n            <argument name=\"product\" value=\"_defaultProduct\" />\n        </actionGroup>\n\n        <!-- See success save message \"You saved the product.\" -->\n        <actionGroup ref=\"saveProductForm\" stepKey=\"clickSaveOnProductForm\" />\n\n        <actionGroup ref=\"AssertProductInGridActionGroup\" stepKey=\"assertProductInGrid\" />\n\n        <!-- Open Storefront Product Page and verify \"Name\", \"SKU\", \"Price\" -->\n        <actionGroup ref=\"AssertProductInStorefrontProductPage\" stepKey=\"assertProductInStorefrontProductPage\">\n            <argument name=\"product\" value=\"_defaultProduct\" />\n        </actionGroup>\n    </test>\n</tests>\n`}</code></pre>\n    <p>{`A well written test will end up being a set of action groups.\nThe finished test is fully abstracted in such a way that it is short and readable and importantly, the abstracted data and action groups can be used again.`}</p>\n    {\n      /* Link Definitions */\n    }\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}